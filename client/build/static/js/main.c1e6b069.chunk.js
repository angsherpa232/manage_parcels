(this.webpackJsonpredux_tutorial=this.webpackJsonpredux_tutorial||[]).push([[0],{12:function(e,t,n){e.exports={listContent:"list_listContent__b-PC-",card:"list_card__9PStL",btn:"list_btn__37zyz",innerSection:"list_innerSection__3Zzx_"}},37:function(e,t,n){e.exports={card:"card_card__3oPpL"}},38:function(e,t,n){e.exports={auth:"auth_auth__AiwkV"}},41:function(e,t,n){e.exports=n(70)},68:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(18),c=n(2),s=n(13),u=n(20),l="ADD_ARTICLE",o="SET_ASSIGNEE",p={articles:[],remoteArticles:[],assignee:"none",bikers:[],isAuth:!1,pickupTime:"",deliveryDate:"",screenRedux:"auth"};var d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;if(t.type===l)return Object.assign({},e,{articles:e.articles.concat(t.payload)});if("SET_ARTICLES"===t.type)return Object.assign({},e,{articles:e.articles.concat(t.payload)});if("DATA_LOADED"===t.type)return Object.assign({},e,{remoteArticles:e.remoteArticles.concat(t.payload)});if(t.type===o)return Object.assign({},e,{assignee:t.payload});if("GET_PARCEL_DETAIL"===t.type){var n=e.articles.find((function(e){return e.id===t.payload}));n.status="assigned",n.assignee=e.assignee;var a=e.articles.findIndex((function(e){return e.id===t.payload})),r=Object(u.a)(e.articles);return r[a]=n,localStorage.setItem("user",JSON.stringify(r)),Object.assign({},e,{articles:r})}if("UPDATE_PICKUP_TIME"===t.type){var i=e.articles.find((function(e){return e.id===t.payload}));i.pickupTime=e.pickupTime;var c=e.articles.findIndex((function(e){return e.id===t.payload})),s=Object(u.a)(e.articles);return s[c]=i,localStorage.setItem("user",JSON.stringify(s)),Object.assign({},e,{articles:s})}if("GET_BIKERS"===t.type){var d=e.articles.filter((function(e){return"none"!==e.assignee})).map((function(e){return e.assignee})),m=Array.from(new Set(d));return Object.assign({},e,{bikers:e.bikers.concat(m)})}if("LOGIN"===t.type)return Object.assign({},e,{isAuth:!0});if("SET_PICKUP_TIME"===t.type)return Object.assign({},e,{pickupTime:t.payload});if("SET_DELIVERY_TIME"===t.type)return Object.assign({},e,{deliveryTime:t.payload});if("UPDATE_DELIVERY_TIME"===t.type){var g=e.articles.find((function(e){return e.id===t.payload}));g.deliveryTime=e.deliveryTime;var E=e.articles.findIndex((function(e){return e.id===t.payload})),f=Object(u.a)(e.articles);return f[E]=g,localStorage.setItem("user",JSON.stringify(f)),Object.assign({},e,{articles:f})}return"SET_ROLE"===t.type&&console.log("authenticate ",t.payload),e},m=["spam","money"];var g=n(36),E=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.c,f=Object(s.d)(d,E(Object(s.a)((function(e){var t=e.dispatch;return function(e){return function(n){if(n.type===l&&m.filter((function(e){return n.payload.title.includes(e)})).length)return t({type:"FOUND_BAD_WORD"});return e(n)}}}),g.a))),v=n(39),y=n(11),b=n(12),T=n.n(b),h=function(e){var t=e.bikers,n=e.getAssignee,a=e.getPickupTime,i=e.getDeliveryTime,c=e.screen,s=function(){return"user"!==e.screenBiker},u=function(){return"admin"!==c};return r.a.createElement("ul",null,t.map((function(e){var t=e.assignee,c=e.origin,l=e.destination,o=e.status,p=e.id,d=e.pickupTime,m=e.deliveryTime;return r.a.createElement("li",{key:p,className:"".concat(T.a.card," ").concat(T.a.listContent)},r.a.createElement("h4",null,"Parcel no: ",p),r.a.createElement("div",{className:T.a.innerSection},r.a.createElement("div",null,r.a.createElement("p",null,"Assignee:"," ",r.a.createElement("span",null,"none"===t?n(p):t.toUpperCase())),r.a.createElement("p",null,"Origin: ",r.a.createElement("span",null,c)))),r.a.createElement("div",{className:T.a.innerSection},r.a.createElement("p",null,"Destination: ",r.a.createElement("span",null,l)),r.a.createElement("p",null,"Status: ",r.a.createElement("span",null,o))),r.a.createElement("div",{className:T.a.innerSection},r.a.createElement("p",null,"Pickup time:"," ",r.a.createElement("input",{value:d,readOnly:s(),type:"datetime-local",onChange:u()&&a.bind(void 0,p)})),r.a.createElement("p",null,"Delivery time:"," ",r.a.createElement("input",{value:m,readOnly:s(),type:"datetime-local",onChange:u()&&i.bind(void 0,p)}))))})))};function k(e){return{type:"SET_ARTICLES",payload:e}}function O(e){return{type:"SET_ROLE",payload:e}}var _=function(e){var t=Object(c.b)(),n=Object(c.c)((function(e){return e.articles})),a=Object(c.c)((function(e){return e.pickupTime})),i=e.screen,s=(n=localStorage.user?JSON.parse(localStorage.getItem("user")):n).filter((function(e){return"kushal"===e.assignee}));return r.a.createElement(h,{bikers:s,getPickupTime:function(e,n){var a=n.target.value;t({type:"SET_PICKUP_TIME",payload:a}),t(function(e){return{type:"UPDATE_PICKUP_TIME",payload:e}}(e))},pickupTime:a,getDeliveryTime:function(e,n){var a=n.target.value;t({type:"SET_DELIVERY_TIME",payload:a}),t(function(e){return{type:"UPDATE_DELIVERY_TIME",payload:e}}(e))},screenBiker:i})},j=function(e){var t=Object(c.c)((function(e){return e.articles})),n=Object(c.b)(),a=e.screen,i=function(e,t){var a;n((a=t.target.value,{type:o,payload:a})),n(function(e){return{type:"GET_PARCEL_DETAIL",payload:e}}(e))};t=localStorage.user?JSON.parse(localStorage.getItem("user")):t;return r.a.createElement(h,{bikers:t,getAssignee:function(e){return r.a.createElement("select",{className:T.a.btn,onChange:i.bind(void 0,e)},t.filter((function(e){return"none"!==e.assignee})).map((function(e){return r.a.createElement("option",{key:e.id,value:e.assignee},e.assignee)})))},screen:a})},S=n(37),I=n.n(S),A=function(e){return r.a.createElement("div",{className:I.a.card},e.children)},D=n(38),x=n.n(D),w=function(e){var t=Object(c.b)();return r.a.createElement("div",{className:x.a.auth},r.a.createElement(A,null,r.a.createElement("h2",null,"You are not authenticated!"),r.a.createElement("p",null,"Please log in to continue."),r.a.createElement("button",{onClick:function(){t({type:"LOGIN",payload:!0})}},"Log In")))},C=n(10),P=n.n(C),L=n(15),N=n(17),R=n(16),U=n.n(R);function M(e){var t=e.screen,n=e.setScreen,i=Object(c.c)((function(e){return e.screenRedux}));console.log("the screen is ttt",t,i);var s=Object(a.useState)(),u=Object(N.a)(s,2),l=u[0],o=u[1],p=function(){var e=Object(L.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.a.get("/clear-cookie");case 3:n("auth"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=Object(L.a)(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.a.get("/get-data");case 3:t=e.sent,console.log(t.data),o(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("p",null,t),function(e){var t;return"admin"===e?t=r.a.createElement(j,{screen:e}):"user"===e&&(t=r.a.createElement(_,{screen:e})),t}(t),r.a.createElement("p",null,l),r.a.createElement("button",{onClick:d},"Get Data"),r.a.createElement("button",{onClick:p},"Logout"))}var J=function(){var e=Object(a.useState)("auth"),t=Object(N.a)(e,2),n=t[0],i=t[1],s=Object(a.useState)(),u=Object(N.a)(s,2),l=u[0],o=u[1],p=Object(a.useState)(),d=Object(N.a)(p,2),m=d[0],g=d[1],E=Object(c.b)(),f=function(){var e=Object(L.a)(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.a.get("/authenticate",{auth:{username:l,password:m}});case 3:void 0!==(t=e.sent).data.screen&&(i(t.data.screen),E(O(t.data.screen))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(L.a)(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.a.get("/read-cookie");case 3:void 0!==(t=e.sent).data.screen&&(i(t.data.screen),E(O(t.data.screen))),e.next=12;break;case 7:e.prev=7,e.t0=e.catch(0),i("auth"),E(O("auth")),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){v()}),[]),r.a.createElement("div",{className:"App"},"auth"===n?r.a.createElement("div",null,r.a.createElement("label",null,"Username: "),r.a.createElement("br",null),r.a.createElement("input",{type:"text",onChange:function(e){return o(e.target.value)}}),r.a.createElement("br",null),r.a.createElement("label",null,"Password: "),r.a.createElement("br",null),r.a.createElement("input",{type:"password",onChange:function(e){return g(e.target.value)}}),r.a.createElement("br",null),r.a.createElement("button",{onClick:f},"Login")):r.a.createElement(M,{screen:n,setScreen:i}))},G=(n(68),function(){var e=Object(c.c)((function(e){return e.isAuth})),t=Object(c.b)(),n=[{id:1,assignee:"ang gurung",origin:"kathmandu",destination:"berlin",status:"waiting",pickupTime:"",deliveryTime:""},{id:2,assignee:"ang gurung",origin:"pokhara",destination:"munster",status:"waiting",pickupTime:"",deliveryTime:""},{id:3,assignee:"sherpa",origin:"bhaktapur",destination:"freiburg",status:"assigned",pickupTime:"",deliveryTime:""},{id:4,assignee:"ram",origin:"khumbu",destination:"frankfurt",status:"assinged",pickupTime:"",deliveryTime:""},{id:5,assignee:"sam",origin:"janakpur",destination:"munich",status:"pickedUp",pickupTime:"",deliveryTime:""},{id:11,assignee:"none",origin:"chitwan",destination:"america",status:"unassigned",pickupTime:"",deliveryTime:""},{id:6,assignee:"john",origin:"phakding",destination:"hamburg",status:"pickedUp",pickupTime:"",deliveryTime:""},{id:7,assignee:"john",origin:"namche",destination:"zurich",status:"delivered",pickupTime:"",deliveryTime:""},{id:8,assignee:"ronay",origin:"butwal",destination:"spain",status:"delivered",pickupTime:"",deliveryTime:""},{id:9,assignee:"none",origin:"chitwan",destination:"america",status:"unassigned",pickupTime:"",deliveryTime:""},{id:10,assignee:"kushal",origin:"lukla",destination:"france",status:"unassigned",pickupTime:"",deliveryTime:""},{id:12,assignee:"sanjeev",origin:"chitwan",destination:"america",status:"delivered",pickupTime:"",deliveryTime:""},{id:13,assignee:"sanjeev",origin:"chitwan",destination:"america",status:"pickedUp",pickupTime:"",deliveryTime:""}];Object(a.useEffect)((function(){localStorage.user?t(k(JSON.parse(localStorage.getItem("user")))):t(k(n))}),[]);var i=r.a.createElement(J,null);return e&&(i=r.a.createElement(v.a,null,r.a.createElement("div",null,r.a.createElement("h2",null,"Articles"),r.a.createElement(y.a,{path:"/login",component:w}),r.a.createElement(y.a,{path:"/bikers",component:_}),r.a.createElement(y.a,{path:"/manager",component:j})))),i});Object(i.render)(r.a.createElement(c.a,{store:f},r.a.createElement(G,null)),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.c1e6b069.chunk.js.map