(this.webpackJsonpredux_tutorial=this.webpackJsonpredux_tutorial||[]).push([[0],{12:function(e,t,n){e.exports={listContent:"list_listContent__b-PC-",card:"list_card__9PStL",btn:"list_btn__37zyz",innerSection:"list_innerSection__3Zzx_"}},13:function(e,t,n){e.exports={login_form:"login_login_form__bqG8j",form_control:"login_form_control__2xZiy",form_role:"login_form_role__2clAq",form__actions:"login_form__actions__nrJqY"}},38:function(e,t,n){e.exports={card:"card_card__3oPpL"}},41:function(e,t,n){e.exports=n(70)},68:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(19),c=n(3),s=n(14),l=n(21),o="ADD_ARTICLE",u="SET_ASSIGNEE",m={articles:[],remoteArticles:[],assignee:"none",bikers:[],isAuth:!1,pickupTime:"",deliveryDate:"",screenRedux:"auth"};var p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;if(t.type===o)return Object.assign({},e,{articles:e.articles.concat(t.payload)});if("SET_ARTICLES"===t.type)return Object.assign({},e,{articles:e.articles.concat(t.payload)});if("DATA_LOADED"===t.type)return Object.assign({},e,{remoteArticles:e.remoteArticles.concat(t.payload)});if(t.type===u)return Object.assign({},e,{assignee:t.payload});if("GET_PARCEL_DETAIL"===t.type){var n=e.articles.find((function(e){return e.id===t.payload}));n.status="assigned",n.assignee=e.assignee;var a=e.articles.findIndex((function(e){return e.id===t.payload})),r=Object(l.a)(e.articles);return r[a]=n,localStorage.setItem("user",JSON.stringify(r)),Object.assign({},e,{articles:r})}if("UPDATE_PICKUP_TIME"===t.type){var i=e.articles.find((function(e){return e.id===t.payload}));i.pickupTime=e.pickupTime;var c=e.articles.findIndex((function(e){return e.id===t.payload})),s=Object(l.a)(e.articles);return s[c]=i,localStorage.setItem("user",JSON.stringify(s)),Object.assign({},e,{articles:s})}if("GET_BIKERS"===t.type){var p=e.articles.filter((function(e){return"none"!==e.assignee})).map((function(e){return e.assignee})),d=Array.from(new Set(p));return Object.assign({},e,{bikers:e.bikers.concat(d)})}if("LOGIN"===t.type)return Object.assign({},e,{isAuth:!0});if("SET_PICKUP_TIME"===t.type)return Object.assign({},e,{pickupTime:t.payload});if("SET_DELIVERY_TIME"===t.type)return Object.assign({},e,{deliveryTime:t.payload});if("UPDATE_DELIVERY_TIME"===t.type){var g=e.articles.find((function(e){return e.id===t.payload}));g.deliveryTime=e.deliveryTime;var f=e.articles.findIndex((function(e){return e.id===t.payload})),E=Object(l.a)(e.articles);return E[f]=g,localStorage.setItem("user",JSON.stringify(E)),Object.assign({},e,{articles:E})}return"SET_ROLE"===t.type?Object.assign({},e,{screenRedux:t.payload}):e},d=["spam","money"];var g=n(37),f=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.c,E=Object(s.d)(p,f(Object(s.a)((function(e){var t=e.dispatch;return function(e){return function(n){if(n.type===o&&d.filter((function(e){return n.payload.title.includes(e)})).length)return t({type:"FOUND_BAD_WORD"});return e(n)}}}),g.a))),v=n(39),b=n(11),y=n(12),_=n.n(y),T=function(e){var t=e.bikers,n=e.getAssignee,a=e.getPickupTime,i=e.getDeliveryTime,c=e.screen,s=function(){return"user"!==c},l=function(){return"admin"!==c};return console.log("user from list ",s(),c),r.a.createElement("ul",null,t.map((function(e){var t=e.assignee,c=e.origin,o=e.destination,u=e.status,m=e.id,p=e.pickupTime,d=e.deliveryTime;return r.a.createElement("li",{key:m,className:"".concat(_.a.card," ").concat(_.a.listContent)},r.a.createElement("h4",null,"Parcel no: ",m),r.a.createElement("div",{className:_.a.innerSection},r.a.createElement("div",null,r.a.createElement("p",null,"Assignee:"," ",r.a.createElement("span",null,"none"===t?n(m):t.toUpperCase())),r.a.createElement("p",null,"Origin: ",r.a.createElement("span",null,c)))),r.a.createElement("div",{className:_.a.innerSection},r.a.createElement("p",null,"Destination: ",r.a.createElement("span",null,o)),r.a.createElement("p",null,"Status: ",r.a.createElement("span",null,u))),r.a.createElement("div",{className:_.a.innerSection},r.a.createElement("p",null,"Pickup time:"," ",r.a.createElement("input",{value:p,readOnly:s(),type:"datetime-local",onChange:l()&&a.bind(void 0,m)})),r.a.createElement("p",null,"Delivery time:"," ",r.a.createElement("input",{value:d,readOnly:s(),type:"datetime-local",onChange:l()&&i.bind(void 0,m)}))))})))};function h(e){return{type:"SET_ARTICLES",payload:e}}function k(e){return{type:"SET_ROLE",payload:e}}var O=function(e){var t=Object(c.b)(),n=Object(c.c)((function(e){return{bikers:e.articles,pickupTime:e.pickupTime,screenRedux:e.screenRedux}})),a=n.bikers,i=n.pickupTime,s=n.screenRedux,l=(a=localStorage.user?JSON.parse(localStorage.getItem("user")):a).filter((function(e){return"kushal"===e.assignee}));return r.a.createElement(T,{bikers:l,getPickupTime:function(e,n){var a=n.target.value;t({type:"SET_PICKUP_TIME",payload:a}),t(function(e){return{type:"UPDATE_PICKUP_TIME",payload:e}}(e))},pickupTime:i,getDeliveryTime:function(e,n){var a=n.target.value;t({type:"SET_DELIVERY_TIME",payload:a}),t(function(e){return{type:"UPDATE_DELIVERY_TIME",payload:e}}(e))},screen:s})},j=function(e){var t=Object(c.c)((function(e){return{bikers:e.articles,screenRedux:e.screenRedux}})),n=t.bikers,a=t.screenRedux,i=Object(c.b)(),s=function(e,t){var n;i((n=t.target.value,{type:u,payload:n})),i(function(e){return{type:"GET_PARCEL_DETAIL",payload:e}}(e))};n=localStorage.user?JSON.parse(localStorage.getItem("user")):n;return r.a.createElement(T,{bikers:n,getAssignee:function(e){return r.a.createElement("select",{className:_.a.btn,onChange:s.bind(void 0,e)},n.filter((function(e){return"none"!==e.assignee})).map((function(e){return r.a.createElement("option",{key:e.id,value:e.assignee},e.assignee)})))},screen:a})},S=n(10),I=n.n(S),x=n(16),A=n(18),w=n(17),D=n.n(w),P=n(38),N=n.n(P),R=function(e){return r.a.createElement("div",{className:N.a.card},e.children)},C=n(13),L=n.n(C),U=function(e){var t=e.setPassword,n=e.setUsername,a=e.auth;return r.a.createElement("section",{className:L.a.login_form},r.a.createElement(R,null,r.a.createElement("h2",null,"You are not authenticated!"),r.a.createElement("p",null,"Please choose the role and log in to continue."),r.a.createElement("br",null),r.a.createElement("div",{className:L.a.form_control},r.a.createElement("label",{htmlFor:"role"},"Role: "),r.a.createElement("select",{className:L.a.form_role},r.a.createElement("option",null,"Manager"),r.a.createElement("option",null,"Biker"))),r.a.createElement("br",null),r.a.createElement("div",{className:L.a.form_control},r.a.createElement("label",{htmlFor:"username"},"Username: ")),r.a.createElement("br",null),r.a.createElement("div",{className:L.a.form_control},r.a.createElement("input",{type:"text",onChange:function(e){return n(e.target.value)}})),r.a.createElement("br",null),r.a.createElement("div",{className:L.a.form_control},r.a.createElement("label",{htmlFor:"password"},"Password: "),r.a.createElement("br",null),r.a.createElement("input",{type:"password",onChange:function(e){return t(e.target.value)}})),r.a.createElement("br",null),r.a.createElement("div",{className:L.a.form__actions},r.a.createElement("button",{onClick:a},"Login"))))};function M(e){var t=e.screen,n=e.setScreen,i=Object(c.c)((function(e){return e.screenRedux}));console.log("the screen is ttt",t,i);var s=Object(a.useState)(),l=Object(A.a)(s,2),o=l[0],u=l[1],m=function(){var e=Object(x.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.a.get("/clear-cookie");case 3:n("auth"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(x.a)(I.a.mark((function e(){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.a.get("/get-data");case 3:t=e.sent,console.log(t.data),u(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("p",null,t),function(e){var t;return"admin"===e?t=r.a.createElement(j,null):"user"===e&&(t=r.a.createElement(O,null)),t}(t),r.a.createElement("p",null,o),r.a.createElement("button",{onClick:p},"Get Data"),r.a.createElement("button",{onClick:m},"Logout"))}var J=function(){var e=Object(a.useState)("auth"),t=Object(A.a)(e,2),n=t[0],i=t[1],s=Object(a.useState)(),l=Object(A.a)(s,2),o=l[0],u=l[1],m=Object(a.useState)(),p=Object(A.a)(m,2),d=p[0],g=p[1],f=Object(c.b)(),E=function(){var e=Object(x.a)(I.a.mark((function e(){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.a.get("/authenticate",{auth:{username:o,password:d}});case 3:void 0!==(t=e.sent).data.screen&&(console.log("from if ",t.data.screen),f(k(t.data.screen)),i(t.data.screen)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(x.a)(I.a.mark((function e(){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.a.get("/read-cookie");case 3:void 0!==(t=e.sent).data.screen&&(f(k(t.data.screen)),i(t.data.screen)),e.next=12;break;case 7:e.prev=7,e.t0=e.catch(0),i("auth"),f(k("auth")),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){v()}),[]),r.a.createElement(r.a.Fragment,null,"auth"===n?r.a.createElement(U,{setUsername:u,setPassword:g,auth:E}):r.a.createElement(M,{screen:n,setScreen:i}))},G=(n(68),function(){var e=Object(c.c)((function(e){return e.isAuth})),t=Object(c.b)(),n=[{id:1,assignee:"ang gurung",origin:"kathmandu",destination:"berlin",status:"waiting",pickupTime:"",deliveryTime:""},{id:2,assignee:"ang gurung",origin:"pokhara",destination:"munster",status:"waiting",pickupTime:"",deliveryTime:""},{id:3,assignee:"sherpa",origin:"bhaktapur",destination:"freiburg",status:"assigned",pickupTime:"",deliveryTime:""},{id:4,assignee:"ram",origin:"khumbu",destination:"frankfurt",status:"assinged",pickupTime:"",deliveryTime:""},{id:5,assignee:"sam",origin:"janakpur",destination:"munich",status:"pickedUp",pickupTime:"",deliveryTime:""},{id:11,assignee:"none",origin:"chitwan",destination:"america",status:"unassigned",pickupTime:"",deliveryTime:""},{id:6,assignee:"john",origin:"phakding",destination:"hamburg",status:"pickedUp",pickupTime:"",deliveryTime:""},{id:7,assignee:"john",origin:"namche",destination:"zurich",status:"delivered",pickupTime:"",deliveryTime:""},{id:8,assignee:"ronay",origin:"butwal",destination:"spain",status:"delivered",pickupTime:"",deliveryTime:""},{id:9,assignee:"none",origin:"chitwan",destination:"america",status:"unassigned",pickupTime:"",deliveryTime:""},{id:10,assignee:"kushal",origin:"lukla",destination:"france",status:"unassigned",pickupTime:"",deliveryTime:""},{id:12,assignee:"sanjeev",origin:"chitwan",destination:"america",status:"delivered",pickupTime:"",deliveryTime:""},{id:13,assignee:"sanjeev",origin:"chitwan",destination:"america",status:"pickedUp",pickupTime:"",deliveryTime:""}];Object(a.useEffect)((function(){localStorage.user?t(h(JSON.parse(localStorage.getItem("user")))):t(h(n))}),[]);var i=r.a.createElement(J,null);return e&&(i=r.a.createElement(v.a,null,r.a.createElement("div",null,r.a.createElement("h2",null,"Articles"),r.a.createElement(b.a,{path:"/login",component:J}),r.a.createElement(b.a,{path:"/bikers",component:O}),r.a.createElement(b.a,{path:"/manager",component:j})))),i});Object(i.render)(r.a.createElement(c.a,{store:E},r.a.createElement(G,null)),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.35504906.chunk.js.map